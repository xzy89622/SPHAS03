import{d as k,c as v,w as a,e as u,r as o,f as C,o as x,g as t,b as i,a as _,E as d,h as $}from"./index-Cre6eli4.js";const B={style:{display:"flex","justify-content":"space-between","align-items":"center"}},M={__name:"NoticeList",setup(N){const c=C([]),r=async()=>{c.value=await u.get("/api/admin/notice/list")},m=()=>{d.info("下一步：做公告新增/编辑页（我带你写表单）")},f=n=>{d.info(`下一步：编辑公告 ID=${n.id}`)},b=async n=>{await $.confirm(`确认删除公告「${n.title}」？`,"提示",{type:"warning"}),await u.delete(`/api/admin/notice/${n.id}`),d.success("删除成功"),r()};return k(r),(n,e)=>{const s=o("el-button"),l=o("el-table-column"),y=o("el-table"),w=o("el-card");return x(),v(w,null,{header:a(()=>[_("div",B,[e[1]||(e[1]=_("span",null,"系统公告",-1)),t(s,{type:"primary",onClick:m},{default:a(()=>[...e[0]||(e[0]=[i("新增公告",-1)])]),_:1})])]),default:a(()=>[t(y,{data:c.value,border:""},{default:a(()=>[t(l,{prop:"id",label:"ID",width:"80"}),t(l,{prop:"title",label:"标题"}),t(l,{prop:"createdAt",label:"发布时间",width:"180"}),t(l,{label:"操作",width:"220"},{default:a(({row:p})=>[t(s,{size:"small",onClick:g=>f(p)},{default:a(()=>[...e[2]||(e[2]=[i("编辑",-1)])]),_:1},8,["onClick"]),t(s,{size:"small",type:"danger",onClick:g=>b(p)},{default:a(()=>[...e[3]||(e[3]=[i("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})}}};export{M as default};
