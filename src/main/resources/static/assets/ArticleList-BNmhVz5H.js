import{d as k,c as v,w as a,e as u,r as o,f as C,o as x,g as e,b as i,a as _,E as r,h as $}from"./index-Cre6eli4.js";const B={style:{display:"flex","justify-content":"space-between","align-items":"center"}},N={__name:"ArticleList",setup(E){const d=C([]),c=async()=>{d.value=await u.get("/api/admin/article/list")},m=()=>r.info("下一步：做文章新增/编辑（含富文本/封面上传可选）"),f=l=>r.info(`下一步：编辑文章 ID=${l.id}`),b=async l=>{await $.confirm(`确认删除文章「${l.title}」？`,"提示",{type:"warning"}),await u.delete(`/api/admin/article/${l.id}`),r.success("删除成功"),c()};return k(c),(l,t)=>{const s=o("el-button"),n=o("el-table-column"),w=o("el-table"),y=o("el-card");return x(),v(y,null,{header:a(()=>[_("div",B,[t[1]||(t[1]=_("span",null,"健康科普文章",-1)),e(s,{type:"primary",onClick:m},{default:a(()=>[...t[0]||(t[0]=[i("新增文章",-1)])]),_:1})])]),default:a(()=>[e(w,{data:d.value,border:""},{default:a(()=>[e(n,{prop:"id",label:"ID",width:"80"}),e(n,{prop:"title",label:"标题"}),e(n,{prop:"author",label:"作者",width:"140"}),e(n,{prop:"createdAt",label:"发布时间",width:"180"}),e(n,{label:"操作",width:"220"},{default:a(({row:p})=>[e(s,{size:"small",onClick:g=>f(p)},{default:a(()=>[...t[2]||(t[2]=[i("编辑",-1)])]),_:1},8,["onClick"]),e(s,{size:"small",type:"danger",onClick:g=>b(p)},{default:a(()=>[...t[3]||(t[3]=[i("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})}}};export{N as default};
